const filter=document.querySelector(".filter"),img_gallery=document.querySelectorAll(".gallery-item img"),galleryItems=document.querySelectorAll(".gallery-item"),images=document.querySelectorAll("img[data-index]"),lightbox=document.querySelector(".lightbox"),lightbox_container=document.querySelector(".lightbox_container"),lightboxImage=lightbox.querySelector("img"),prevButton=lightbox.querySelector(".lightbox_prev"),nextButton=lightbox.querySelector(".lightbox_next");let currentIndex=0;function initFilterOnPageHome(){filter.innerHTML="";let e=document.createElement("button");e.classList.add("button_filter"),e.innerHTML="<span>Tous</span>",filter.appendChild(e),e.addEventListener("click",()=>{for(let e=0;e<img_gallery.length;e++)galleryItems[e].classList.remove("inactif")});let t=[];for(let l=0;l<galleryItems.length;l++){let i=galleryItems[l].dataset.galleryTag;-1===t.indexOf(i)&&t.push(i)}t.sort();for(let a=0;a<t.length;a++){let r=document.createElement("button");r.classList.add("button_filter"),r.innerHTML=`<span>${t[a]}</span>`,filter.appendChild(r),r.addEventListener("click",async()=>{for(let e=0;e<galleryItems.length;e++){galleryItems[e].classList.remove("inactif");let l=galleryItems[e].dataset.galleryTag;l!==t[a]&&galleryItems[e].classList.add("inactif")}})}for(let n of(button_filter=document.querySelectorAll(".button_filter"),e.classList.add("actif"),button_filter))n.addEventListener("click",()=>{for(let e of button_filter)e.classList.remove("actif");n.classList.add("actif")})}function displayLightbox(e){lightboxImage.src=images[e].src,currentIndex=e,lightbox.classList.add("active")}function displayPreviousImage(){displayLightbox(currentIndex=(currentIndex-1+images.length)%images.length)}function displayNextImage(){displayLightbox(currentIndex=(currentIndex+1)%images.length)}function closeLightbox(){lightbox.classList.remove("active")}initFilterOnPageHome(),images.forEach(e=>{e.addEventListener("click",()=>{let t=parseInt(e.dataset.index);displayLightbox(t)})}),prevButton.addEventListener("click",displayPreviousImage),nextButton.addEventListener("click",displayNextImage),lightbox.addEventListener("click",e=>{(e.target===lightbox||e.target===lightbox_container)&&closeLightbox()});